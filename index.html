<!doctype html>

<html>

    <head>

        <meta charset="utf-8">

        <style>
        body {
            font-size: 14px;
        }
        </style>
    </head>

    
    <body>

        
        <h2>PS4 Controller</h2>
        
        <div id="axes">
            <div><b>Anal. SX X:</b> <span id="axis0"></span></div>
            <div><b>Anal. SX Y:</b> <span id="axis1"></span></div>
            <div><b>Anal. DX X:</b> <span id="axis2"></span></div>
            <div><b>Anal. DX Y:</b> <span id="axis3"></span></div>
        </div>
        
        <div id="buttons">
            <div><b>Cross:</b> <span id="button0"></span></div>
            <div><b>Circle:</b> <span id="button1"></span></div>
            <div><b>Square:</b> <span id="button2"></span></div>
            <div><b>Triangle:</b> <span id="button3"></span></div>
            <div><b>L1:</b> <span id="button4"></span></div>
            <div><b>R1:</b> <span id="button5"></span></div>
            <div><b>L2:</b> <span id="button6"></span></div>
            <div><b>R2:</b> <span id="button7"></span></div>
            <div><b>Share:</b> <span id="button8"></span></div>
            <div><b>Options:</b> <span id="button9"></span></div>
            <div><b>Anal. SX Click:</b> <span id="button10"></span></div>
            <div><b>Anal. DX Click:</b> <span id="button11"></span></div>
            <div><b>Up:</b> <span id="button12"></span></div>
            <div><b>Down:</b> <span id="button13"></span></div>
            <div><b>Left:</b> <span id="button14"></span></div>
            <div><b>Right:</b> <span id="button15"></span></div>
            <div><b>Playstation Button:</b> <span id="button16"></span></div>
            <div><b>Touchpad Button:</b> <span id="button17"></span></div>
        </div>
        
        <script>

        function gameLoop() {

            var gamepads = navigator.getGamepads();
            
            for (var i=0; i<gamepads.length; i++) {

                var gamepad = gamepads[i];

                if (gamepad) {

                    
                    //if (gamepad.buttons[7].pressed) {

                    //    console.log('fire');

                    //}
                    
                    document.querySelector('#axis0').innerHTML = gamepad.axes[0];

                    document.querySelector('#axis1').innerHTML = gamepad.axes[1];

                    document.querySelector('#axis2').innerHTML = gamepad.axes[2];

                    document.querySelector('#axis3').innerHTML = gamepad.axes[3];

                    
                    document.querySelector('#button0').innerHTML = gamepad.buttons[0].value;

                    document.querySelector('#button1').innerHTML = gamepad.buttons[1].value;

                    document.querySelector('#button2').innerHTML = gamepad.buttons[2].value;

                    document.querySelector('#button3').innerHTML = gamepad.buttons[3].value;

                    document.querySelector('#button4').innerHTML = gamepad.buttons[4].value;

                    document.querySelector('#button5').innerHTML = gamepad.buttons[5].value;

                    document.querySelector('#button6').innerHTML = gamepad.buttons[6].value;

                    document.querySelector('#button7').innerHTML = gamepad.buttons[7].value;

                    document.querySelector('#button8').innerHTML = gamepad.buttons[8].value;

                    document.querySelector('#button9').innerHTML = gamepad.buttons[9].value;

                    document.querySelector('#button10').innerHTML = gamepad.buttons[10].value;

                    document.querySelector('#button11').innerHTML = gamepad.buttons[11].value;

                    document.querySelector('#button12').innerHTML = gamepad.buttons[12].value;

                    document.querySelector('#button13').innerHTML = gamepad.buttons[13].value;

                    document.querySelector('#button14').innerHTML = gamepad.buttons[14].value;

                    document.querySelector('#button15').innerHTML = gamepad.buttons[15].value;

                    document.querySelector('#button16').innerHTML = gamepad.buttons[16].value;

                    document.querySelector('#button17').innerHTML = gamepad.buttons[17].value;

                }
            }



            window.requestAnimationFrame(gameLoop);

        }

        
        gameLoop();

        </script>

        
    </body>

</html>
